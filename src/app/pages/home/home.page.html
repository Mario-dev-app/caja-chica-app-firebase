<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Inicio</ion-title>
    <ion-buttons slot="secondary" slot="end">
      <ion-button id="click-trigger">
        <ion-icon slot="icon-only" name="person-circle"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

  <ion-popover alignment="start" side="bottom" trigger="click-trigger" triggerAction="click" [dismissOnSelect]="true">
    <ng-template #name>
      <ion-list [inset]="true">
        <ion-item (click)="navigateToConfig()">
          <ion-label>Configuración</ion-label>
          <ion-icon name="cog" slot="end" color="dark"></ion-icon>
        </ion-item>
        <ion-item (click)="logout()">
          <ion-label>Cerrar sesión</ion-label>
          <ion-icon name="power" slot="end" color="dark"></ion-icon>
        </ion-item>
      </ion-list>
    </ng-template>
  </ion-popover>

</ion-header>

<ion-content [fullscreen]="true">
  @if(usuario) {
    <ion-text>
      <h4>Bienvenido, {{ usuario.nombre }}</h4>
    </ion-text>
  }
  <ion-grid>
    <ion-row class="ion-margin-top">
      <ion-col size="6">
        <button class="my-button bg-three" (click)="requestMoney()">
          <ion-label>Solicitar dinero</ion-label>
          <ion-img class="img-button" src="../../../assets/salary.png" alt="salary.png" />
        </button>
      </ion-col>
      <ion-col size="6">
        <button class="my-button bg-four" (click)="historical()">
          <ion-label>Ver historial</ion-label>
          <ion-img class="img-button" src="../../../assets/report.png" alt="report.png" />
        </button>
      </ion-col>
    </ion-row>

    @if(usuario) {
      @if(usuario.role !== 'USER') {
        <ion-row class="ion-margin-top">
          <ion-col size="6">
            <button class="my-button bg-one" (click)="approvals()">
              <ion-label>Revisar aprobaciones</ion-label>
              <ion-img class="img-button" src="../../../assets/yes.png" alt="aproving.png" />
            </button>
          </ion-col>
        </ion-row>
      }
    }
  </ion-grid>

</ion-content>